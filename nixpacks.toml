# Nixpacks configuration for Railway deployment

[phases.setup]
nixPkgs = ["go_1_21", "openssh"]

[phases.build]
cmds = [
  "cd ssh-reader && go mod download",
  "cd ssh-reader && go build -o void-reader .",
  "cp -r book1_void_reavers_source ssh-reader/"
]

[start]
cmd = "cd ssh-reader && ./void-reader"

# Environment variables should be set in Railway dashboard
# PORT is automatically provided by Railway for HTTP