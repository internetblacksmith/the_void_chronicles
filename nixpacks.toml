# Nixpacks configuration for Railway deployment

[phases.setup]
nixPkgs = ["go_1_21", "openssh"]

[phases.build]
cmds = [
  "cd ssh-reader && go mod download",
  "cd ssh-reader && go build -o void-reader ."
]

[start]
cmd = "cd ssh-reader && ./void-reader"

[variables]
SSH_PASSWORD = "Amigos4Life!"
SSH_PORT = "2222"
HTTP_PORT = "8080"
# PORT will be set by Railway automatically