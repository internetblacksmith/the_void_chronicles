# Railway deployment configuration

[build]
builder = "NIXPACKS"
buildCommand = "cd ssh-reader && go mod download && go build -o void-reader ."

[deploy]
startCommand = "cd ssh-reader && PORT=${PORT:-8080} ./void-reader"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Environment variables (can be overridden in Railway dashboard)
[variables]
SSH_HOST = "0.0.0.0"
SSH_PORT = "2222"  # SSH server port
# PORT should be provided by Railway automatically for HTTP
# If not, set PORT manually in Railway dashboard
# SSH_PASSWORD can be set in Railway dashboard for security